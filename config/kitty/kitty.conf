# vim:fileencoding=utf-8:foldmethod=marker:foldlevel=0

#: environment {{{

env XDG_CONFIG_HOME=${HOME}/.config
env XDG_DATA_HOME=${HOME}/.local/share
env XDG_STATE_HOME=${HOME}/.local/state
env XDG_CACHE_HOME=${HOME}/.local/cache
env CARGO_BIN=${XDG_DATA_HOME}/cargo/bin
env PATH=${HOME}/.local/bin:/opt/homebrew/bin:${CARGO_BIN}:${HOME}/.volta/bin:${PATH}
env VOLTA_HOME=${HOME}/.volta
env KSM_WORK=1
env FZF_DEFAULT_OPTS="--color=fg+:#e0def4,bg+:#393552,hl+:#ea9a97,border:#44415a,header:#3e8fb0,gutter:#232136,spinner:#f6c177,info:#9ccfd8,pointer:#c4a7e7,marker:#eb6f92,prompt:#908caa"

exe_search_path ~/.config/kitty/bin

#: }}}
#: shell & editor {{{

shell nu -l
editor nvim

#: }}}
#: appearance {{{

background_opacity 0.85

#: }}}
#: status bar {{{

tab_bar_min_tabs 1
tab_bar_edge  top
tab_bar_style custom
active_tab_font_style bold
# only show current session tabs (tmux style)
tab_bar_filter session:~

#: }}}
#: keys {{{

include ./keys.conf

#: }}}
#: fonts {{{

# https://helpx.adobe.com/fonts/using/open-type-syntax.html for features
#
# To get a full list of supported fonts use the `kitty +list-fonts` command.
# also `kitty +list-fonts --psnames`
# easier: `kitten choose-fonts`

font_size          14.0
modify_font cell_height 130%

modify_font underline_position 1

# https://rubjo.github.io/victor-mono/
font_family      family="Victor Mono" features='salt=2 cv01=1 cv02=1 cv06=1 cv14=1 +zero +onum +ss04 cv18=1 cv30=1 +ss09 +ss07'
bold_font        auto
italic_font      auto
bold_italic_font auto

#: }}}
#: remote control & integration {{{

allow_remote_control yes
listen_on unix:/tmp/mykitty
shell_integration enabled
# ksm integration
# shell_integration no-title

startup_session ./sessions/dots.session
# watcher watchers/sessions.py

#: }}}
#: window & layout {{{

# this tends to be problematic on monitor change
# remember_window_position yes
dynamic_background_opacity true
window_padding_width 3
placement_strategy center
hide_window_decorations titlebar-only
macos_show_window_title_in none
confirm_os_window_close -1
macos_option_as_alt yes
cursor_trail 1
# show if not visible after 10 seconds
notify_on_cmd_finish invisible 10
# enabled_layouts splits:split_axis=horizontal,stack
enabled_layouts tall:bias=70,fat:bias=60,stack
visual_window_select_characters ajkl;sdfuiopqwer

#: }}}
#: clipboard & mouse {{{

clipboard_control write-clipboard write-primary no-append
mouse_hide_wait 0.1
copy_on_select clipboard
# remove trailing spaces
strip_trailing_spaces smart

#: }}}
#: scrollback {{{

scrollback_pager_history_size 2
scrollback_fill_enlarged_window yes
wheel_scroll_multiplier 5.0
touch_scroll_multiplier 3.0
scrollback_pager_history_size 1

#: }}}
#: theme {{{


include themes/rose-pine.conf

#: }}}
