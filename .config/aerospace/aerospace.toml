after-startup-command = []
start-at-login = false
enable-normalization-flatten-containers = true
enable-normalization-opposite-orientation-for-nested-containers = true
accordion-padding = 30
default-root-container-layout = 'tiles'

# Possible values: horizontal|vertical|auto
# 'auto' means: wide monitor (anything wider than high) gets horizontal orientation,
#               tall monitor (anything higher than wide) gets vertical orientation
default-root-container-orientation = 'auto'
on-focused-monitor-changed = ['move-mouse monitor-lazy-center']

# prevent cmd+h
automatically-unhide-macos-hidden-apps = true

[key-mapping]
preset = 'qwerty'

[gaps]
inner.horizontal = 5
inner.vertical =   5
outer.left =       5
outer.bottom =     5
outer.top =        5
outer.right =      5

# 'main' binding mode declaration
# See: https://nikitabobko.github.io/AeroSpace/guide#binding-modes
# 'main' binding mode must be always presented
# Fallback value (if you omit the key): mode.main.binding = {}
[mode.main.binding]

# cmd-h = [] # Disable "hide application"
cmd-m = [] # Disables "minimise application"
cmd-alt-h = [] # Disable "hide others", i only hit this by accident

# See: https://nikitabobko.github.io/AeroSpace/commands#layout
cmd-ctrl-space = 'fullscreen'
# cmd-ctrl-space = 'layout h_tiles h_accordion'

# See: https://nikitabobko.github.io/AeroSpace/commands#focus
cmd-ctrl-h = 'focus --boundaries-action wrap-around-the-workspace left'
cmd-ctrl-j = 'focus --boundaries-action wrap-around-the-workspace down'
cmd-ctrl-k = 'focus --boundaries-action wrap-around-the-workspace up'
cmd-ctrl-l = 'focus --boundaries-action wrap-around-the-workspace right'

cmd-shift-ctrl-h = 'join-with left'
cmd-shift-ctrl-j = 'join-with down'
cmd-shift-ctrl-k = 'join-with up'
cmd-shift-ctrl-l = 'join-with right'

cmd-ctrl-m = 'mode move'
cmd-ctrl-comma = 'exec-and-forget ~/.local/bin/a-full'
# cmd-ctrl-comma = 'exec-and-forget ~/PersonalConfigs/.config/aerospace/full.sh'

# See: https://nikitabobko.github.io/AeroSpace/commands#workspace
cmd-ctrl-u = 'workspace 1'
cmd-ctrl-i = 'workspace 2'
cmd-ctrl-o = 'workspace 3'
cmd-ctrl-p = 'workspace 4'
cmd-ctrl-y = 'workspace 5'

# See: https://nikitabobko.github.io/AeroSpace/commands#workspace-back-and-forth
alt-tab = 'workspace-back-and-forth'
# See: https://nikitabobko.github.io/AeroSpace/commands#move-workspace-to-monitor
alt-shift-tab = 'move-workspace-to-monitor --wrap-around next'

# See: https://nikitabobko.github.io/AeroSpace/commands#mode
cmd-ctrl-semicolon = 'mode service'

# 'service' binding mode declaration.
# See: https://nikitabobko.github.io/AeroSpace/guide#binding-modes
[mode.service.binding]
esc = 'mode main'
r = ['reload-config', 'mode main'] # reset layout
shift-r = ['flatten-workspace-tree', 'mode main'] # reset layout
backspace = ['close-all-windows-but-current', 'mode main']

[mode.move.binding]
esc = 'mode main'

f = ['layout floating tiling', 'mode main']
a = ['layout h_accordion tiling', 'mode main']

h = ['move left', 'mode main']
j = ['move down', 'mode main']
k = ['move up', 'mode main']
l = ['move right', 'mode main']

ctrl-h = 'resize width +50'
ctrl-l = 'resize width -50'
ctrl-j = 'resize height -50'
ctrl-k = 'resize height +50'

u = ['move-node-to-workspace --focus-follows-window 1', 'mode main']
i = ['move-node-to-workspace --focus-follows-window 2', 'mode main']
o = ['move-node-to-workspace --focus-follows-window 3', 'mode main']
p = ['move-node-to-workspace --focus-follows-window 4', 'mode main']
y = ['move-node-to-workspace --focus-follows-window 5', 'mode main']

# https://nikitabobko.github.io/AeroSpace/guide#on-window-detected-callback
#####################################
# Main
[[on-window-detected]]
if.app-id = 'net.kovidgoyal.kitty'
if.during-aerospace-startup = true
run = 'move-node-to-workspace 1'

[[on-window-detected]]
if.app-id = 'net.kovidgoyal.kitty'
if.during-aerospace-startup = true
run = 'move-node-to-workspace 1'

[[on-window-detected]]
if.app-id = 'com.google.Chrome'
if.during-aerospace-startup = true
run = 'move-node-to-workspace 2'

[[on-window-detected]]
if.app-id = 'company.thebrowser.Browser'
if.during-aerospace-startup = true
run = 'move-node-to-workspace 2'


[[on-window-detected]]
if.app-id = 'com.github.wez.wezterm'
if.during-aerospace-startup = true
run = 'move-node-to-workspace 2'

#####################################
# Alt
[[on-window-detected]]
if.app-id = 'com.figma.Desktop'
if.during-aerospace-startup = true
run = 'move-node-to-workspace 2'
# [[on-window-detected]]
# if.app-id = 'com.TickTick.task.mac'
# run = 'move-node-to-workspace 2'
# [[on-window-detected]]
# if.app-id = 'md.obsidian'
# run = 'move-node-to-workspace 2'

#####################################
# Social
[[on-window-detected]]
if.app-id = 'net.whatsapp.WhatsApp'
run = 'move-node-to-workspace 3'

[[on-window-detected]]
if.app-name-regex-substring = '(Slack|Teams)'
run = 'move-node-to-workspace 3'

#####################################
# Media
[[on-window-detected]]
if.app-id = 'com.apple.Music'
run = 'move-node-to-workspace 4'

# youtube music
[[on-window-detected]]
if.app-id = 'com.google.Chrome.app.cinhimbnkkaeohfgghhklpknlkffjgod'
run = 'move-node-to-workspace 4'

[[on-window-detected]]
if.app-id = 'com.spotify.client'
run = 'move-node-to-workspace 4'

#####################################
# Tiles Floats

# TODO: annoyingly this goes mental as the emulator wants to resize itself too
# Android emulator

# [[on-window-detected]]
# if.window-title-regex-substring='Android Emulator'
# if.during-aerospace-startup = false #set it to false explicitly
# run = 'layout tiling'  # The callback itself

#####################################
# Floats
[[on-window-detected]]
if.app-name-regex-substring = 'Simulator'
run = 'layout floating'

[[on-window-detected]]
if.app-id = 'com.1password.1password'
run = 'layout floating'

[[on-window-detected]] # Everything else float (opt IN behaviour)
if.app-name-regex-substring = '.'
run = 'layout floating'

# [[on-window-detected]] # Everything else to 'other'
# if.app-name-regex-substring = '.'
# run = 'move-node-to-workspace 5'
